<script>
window.onload = function(){

    let donors = JSON.parse(localStorage.getItem("donors")) || [];
    let editIndex = localStorage.getItem("editIndex");
    let editSerialIndex = localStorage.getItem("editSerialIndex");

    if(editIndex !== null){
        let donor = donors[editIndex];

        document.getElementById("firstName").value = donor.firstName || "";
        document.getElementById("middleName").value = donor.middleName || "";
        document.getElementById("surname").value = donor.surname || "";
        document.getElementById("bloodType").value = donor.bloodType || "";
        document.getElementById("rhFactor").value = donor.rhFactor || "";
        document.getElementById("birthday").value = donor.birthday || "";
        document.getElementById("contact").value = donor.contact || "";

        if(editSerialIndex !== null && donor.serials){
            document.getElementById("serialNumber").value =
                donor.serials[editSerialIndex].number || "";
        }
    }

};
</script>
